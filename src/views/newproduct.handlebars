<header>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #83b674;">
    <div class="container-fluid">
      <button
        class="navbar-toggler"
        type="button"
        data-mdb-toggle="collapse"
        data-mdb-target="#navbarExample01"
        aria-controls="navbarExample01"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarExample01">
        <ul class="navbar-nav me-auto d-flex justify-content-center align-items-center mb-2 mb-lg-0">
          <li class="nav-item active">
            <a class="nav-link text-white" aria-current="page" href="#">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/products">Productos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/chat">Chat</a>
          </li>
          <li class="nav-item">
            <a href="/cart"><img  class="carrito" src="https://cdn-icons-png.flaticon.com/512/107/107831.png?w=826&t=st=1684874915~exp=1684875515~hmac=4e323ee324cb8723eddafaf00dbf77a78c0e67718f36cb36676a61934d30e5d3"></a>
            <span  id="carrito" class="numero text-white"></span>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  </header>

<form class="my-5" action="/api/products/post" method="POST" onsubmit="submitForm(event)">
  <label for="title">Title:</label>
  <input type="text" id="title" name="title" required>

  <label for="description">Description:</label>
  <input type="text" id="description" name="description" required>

  <label for="price">Price:</label>
  <input type="number" id="price" name="price" required>

  <label for="thumbnail">Thumbnail:</label>
  <input type="text" id="thumbnail" name="thumbnail" required>

  <label for="code">Code:</label>
  <input type="text" id="code" name="code" required>

  <label for="stock">Stock:</label>
  <input type="number" id="stock" name="stock" required>

  <button type="submit">Submit</button>
</form>

<script>
  function submitForm(event) {
    event.preventDefault(); 

    const title = document.getElementById('title').value;
    const description = document.getElementById('description').value;
    const price = document.getElementById('price').value;
    const thumbnail = document.getElementById('thumbnail').value;
    const code = document.getElementById('code').value;
    const stock = document.getElementById('stock').value;

    const formData = {
      title: title,
      description: description,
      price: price,
      thumbnail: thumbnail,
      code: code,
      stock: stock
    };

    // Enviar los datos en formato JSON al servidor
    fetch('/api/products/post', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(formData)
    })
      .then(response => {
        if (response.ok) {
          console.log('Datos enviados correctamente');
          window.location.href = '/products'
        } else {
          console.error('Error al enviar los datos');
        }
      })
      .catch(error => {
        console.error('Error de red:', error);
      });
  }
</script>

  <div class="text-center text-white p-3"  style="background-color: #83b674;">
    Â© 2020 Copyright:
    <a class="text-white" href="https://mdbootstrap.com/">MDBootstrap.com</a>
  </div>

  <style type="text/css">
   .carrito {
    height: 3.4vh;
   }
    .numero { 
    background-color: black;
    border-radius: 100%;
    padding: 6px;
    font-size: 14px;
   }
</style>